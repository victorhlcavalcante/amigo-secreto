<!DOCTYPE html>
<html>

<head>
    <title>Cadastro de Pessoas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="sorteio_style.css">
</head>

<body>
    <div>
        <img src="[V] - AMIGO SECRETO LOGO.png" class="logo">
    </div>

    <div>
        <table>
            <caption>CREDENCIAIS DE ACESSO</caption>
            <thead>
              <tr>
                <th>CÓDIGO DE ACESSO</th>
                <th>
                    <script src="credenciais_acesso.js">document.write(generateCode());</script>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>CÓDIGO DE ADMIN</td>
                <td>
                    <script>document.write(generateCode());</script>
                </td>
              </tr>
            </tbody>
          </table>
    </div>

    <div class="form-container">
        <form id="cadastroForm">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" required placeholder="Ex: José da Silva"><br>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required placeholder="Ex: jose@dominio.com"><br>

            <button class="botoes" type="submit">Cadastrar</button>
        </form>
    </div>

    <div class="container" id="container">
    </div>

    <div class="sorteio-container">
        <button class="botoes" id="sorteioButton" disabled>Fazer Sorteio</button>
    </div>

    <script>
        const form = document.getElementById('cadastroForm');
        const container = document.getElementById('container');

        form.addEventListener('submit', function (event) {
            event.preventDefault();

            const nome = document.getElementById('nome').value;
            const email = document.getElementById('email').value;

            const card = document.createElement('div');
            card.classList.add('card');

            const nomeElement = document.createElement('h3');
            nomeElement.innerText = nome;

            const emailElement = document.createElement('p');
            emailElement.innerText = email;

            const botaoElement = document.createElement('button');
            botaoElement.innerText = '-';
            botaoElement.addEventListener('click', function () {
                card.remove();
            });

            card.appendChild(nomeElement);
            card.appendChild(emailElement);
            card.appendChild(botaoElement);

            container.appendChild(card);

            form.reset();

            const cards = document.querySelectorAll('.card');
            const sorteioButton = document.getElementById('sorteioButton');

            if (cards.length % 2 === 0) {
                sorteioButton.removeAttribute('disabled');
            } else {
                sorteioButton.setAttribute('disabled', true);
            }

            

        });
    </script>
</body>

</html>